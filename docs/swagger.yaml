basePath: /api/v1
definitions:
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.AddExerciseToTrainingRequest:
    properties:
      approaches:
        example: 3
        maximum: 20
        minimum: 1
        type: integer
      doing:
        example: 1h
        type: string
      exercise_id:
        example: 1
        minimum: 1
        type: integer
      notes:
        example: Тяжело далось
        type: string
      reps:
        example: 10
        maximum: 100
        minimum: 1
        type: integer
      rest:
        example: 30m
        type: string
      time:
        example: 1h30m
        type: string
      training_id:
        example: 1
        minimum: 1
        type: integer
      weight:
        example: 50.5
        maximum: 1000
        minimum: 0
        type: number
    required:
    - exercise_id
    - training_id
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.CompleteTrainingRequest:
    properties:
      rating:
        example: 5
        maximum: 5
        minimum: 1
        type: integer
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.CreateTrainingRequest:
    properties:
      actual_date:
        example: "2023-10-05T16:30:00Z"
        type: string
      finished_at:
        example: "2023-10-05T16:30:00Z"
        type: string
      is_done:
        example: false
        type: boolean
      planned_date:
        example: "2023-10-05T15:00:00Z"
        type: string
      rating:
        example: 5
        maximum: 5
        minimum: 1
        type: integer
      started_at:
        example: "2023-10-05T15:00:00Z"
        type: string
      total_duration:
        example: 1h30m
        type: string
      total_exercise_time:
        example: 1h
        type: string
      total_rest_time:
        example: 30m
        type: string
      user_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        format: uuid
        type: string
    required:
    - planned_date
    - user_id
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse:
    properties:
      error:
        example: error message
        type: string
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ExerciseResponse:
    properties:
      description:
        example: Базовое упражнение для развития грудных мышц
        type: string
      id:
        example: 1
        type: integer
      tags:
        items:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TagResponse'
        type: array
      video_url:
        example: https://example.com/video.mp4
        type: string
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.GetExercisesByMultipleTagsRequest:
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TagResponse:
    properties:
      id:
        example: 1
        type: integer
      type:
        example: силовое
        type: string
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainedExerciseResponse:
    properties:
      approaches:
        example: 3
        type: integer
      doing:
        example: 1h
        type: string
      exercise_id:
        example: 1
        type: integer
      id:
        example: 1
        type: integer
      notes:
        example: Тяжело далось
        type: string
      reps:
        example: 10
        type: integer
      rest:
        example: 30m
        type: string
      time:
        example: 1h30m
        type: string
      training_id:
        example: 1
        type: integer
      weight:
        example: 50.5
        type: number
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingResponse:
    properties:
      actual_date:
        example: "2023-10-05T16:30:00Z"
        type: string
      exercises:
        items:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainedExerciseResponse'
        type: array
      finished_at:
        example: "2023-10-05T16:30:00Z"
        type: string
      id:
        example: 1
        type: integer
      is_done:
        example: true
        type: boolean
      planned_date:
        example: "2023-10-05T15:00:00Z"
        type: string
      rating:
        example: 5
        type: integer
      started_at:
        example: "2023-10-05T15:00:00Z"
        type: string
      total_duration:
        example: 1h30m
        type: string
      total_exercise_time:
        example: 1h
        type: string
      total_rest_time:
        example: 30m
        type: string
      user_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingStatsResponse:
    properties:
      average_rating:
        example: 4.5
        type: number
      completed_trainings:
        example: 12
        type: integer
      last_training_date:
        example: "2023-10-05T16:30:00Z"
        type: string
      total_duration:
        example: 45h30m
        type: string
      total_trainings:
        example: 15
        type: integer
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.UpdateTrainedExerciseRequest:
    properties:
      approaches:
        example: 4
        maximum: 20
        minimum: 1
        type: integer
      doing:
        example: 1h15m
        type: string
      notes:
        example: Стало легче
        type: string
      reps:
        example: 12
        maximum: 100
        minimum: 1
        type: integer
      rest:
        example: 30m
        type: string
      time:
        example: 1h45m
        type: string
      weight:
        example: 55
        maximum: 1000
        minimum: 0
        type: number
    type: object
  github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.UpdateTrainingRequest:
    properties:
      actual_date:
        example: "2023-10-05T16:30:00Z"
        type: string
      finished_at:
        example: "2023-10-05T16:30:00Z"
        type: string
      is_done:
        example: true
        type: boolean
      planned_date:
        example: "2023-10-05T15:00:00Z"
        type: string
      rating:
        example: 5
        maximum: 5
        minimum: 1
        type: integer
      started_at:
        example: "2023-10-05T15:00:00Z"
        type: string
      total_duration:
        example: 1h30m
        type: string
      total_exercise_time:
        example: 1h
        type: string
      total_rest_time:
        example: 30m
        type: string
    required:
    - planned_date
    type: object
info:
  contact: {}
  description: Сервис информации о тренировках и упражнения
  title: Enduran User Info API
  version: "1.0"
paths:
  /exercises:
    get:
      description: Возвращает список всех упражнений
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ExerciseResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить все упражнения
      tags:
      - exercises
  /exercises/{exercise_id}/tags:
    get:
      description: Возвращает список тегов, связанных с указанным упражнением
      parameters:
      - description: Exercise ID
        format: int64
        in: path
        name: exercise_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TagResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить теги упражнения
      tags:
      - exercises
  /exercises/{id}:
    get:
      description: Возвращает информацию об упражнении по его ID
      parameters:
      - description: Exercise ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ExerciseResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить упражнение по ID
      tags:
      - exercises
  /exercises/by-tags:
    post:
      consumes:
      - application/json
      description: Возвращает список упражнений, связанных со всеми указанными тегами
      parameters:
      - description: Массив ID тегов
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.GetExercisesByMultipleTagsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ExerciseResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить упражнения по нескольким тегам
      tags:
      - exercises
  /exercises/search:
    get:
      description: Возвращает список упражнений, соответствующих поисковому запросу
        и фильтрам
      parameters:
      - description: Поисковый запрос
        in: query
        name: query
        required: true
        type: string
      - description: ID тега для фильтрации
        format: int64
        in: query
        name: tag_id
        type: integer
      - description: Лимит результатов
        in: query
        name: limit
        type: integer
      - description: Смещение для пагинации
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ExerciseResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Поиск упражнений
      tags:
      - exercises
  /exercises/tag/{tag_id}:
    get:
      description: Возвращает список упражнений, связанных с указанным тегом
      parameters:
      - description: Tag ID
        format: int64
        in: path
        name: tag_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ExerciseResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить упражнения по тегу
      tags:
      - exercises
  /tags:
    get:
      description: Возвращает список всех тегов
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TagResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить все теги
      tags:
      - tags
  /tags/{id}:
    get:
      description: Возвращает информацию о теге по его ID
      parameters:
      - description: Tag ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TagResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить тег по ID
      tags:
      - tags
  /tags/popular:
    get:
      description: Возвращает список самых популярных тегов
      parameters:
      - default: 10
        description: Лимит тегов
        in: query
        maximum: 50
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TagResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить популярные теги
      tags:
      - tags
  /training-exercises:
    delete:
      description: Удаляет упражнение из тренировки
      parameters:
      - description: Training ID
        format: int64
        in: query
        name: training_id
        required: true
        type: integer
      - description: Exercise ID
        format: int64
        in: query
        name: exercise_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Удалить упражнение из тренировки
      tags:
      - training-exercises
    post:
      consumes:
      - application/json
      description: Добавляет упражнение к существующей тренировке
      parameters:
      - description: Данные упражнения
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.AddExerciseToTrainingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainedExerciseResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Добавить упражнение к тренировке
      tags:
      - training-exercises
  /training-exercises/{id}:
    put:
      consumes:
      - application/json
      description: Обновляет информацию о выполненном упражнении в тренировке
      parameters:
      - description: Trained Exercise ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.UpdateTrainedExerciseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainedExerciseResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Обновить выполненное упражнение
      tags:
      - training-exercises
  /trainings:
    get:
      description: Возвращает все тренировки указанного пользователя
      parameters:
      - description: User ID
        in: query
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить тренировки пользователя
      tags:
      - trainings
    post:
      consumes:
      - application/json
      description: Создает новую тренировку для пользователя
      parameters:
      - description: Данные тренировки
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.CreateTrainingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Создать тренировку
      tags:
      - trainings
  /trainings/{id}:
    delete:
      description: Удаляет тренировку по ID
      parameters:
      - description: Training ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Удалить тренировку
      tags:
      - trainings
    get:
      description: Возвращает информацию о тренировке со списком упражнений
      parameters:
      - description: Training ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить тренировку с упражнениями
      tags:
      - trainings
    put:
      consumes:
      - application/json
      description: Обновляет информацию о тренировке
      parameters:
      - description: Training ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.UpdateTrainingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Обновить тренировку
      tags:
      - trainings
  /trainings/{id}/complete:
    patch:
      consumes:
      - application/json
      description: Отмечает тренировку как завершенную и устанавливает рейтинг
      parameters:
      - description: Training ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      - description: Данные для завершения
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.CompleteTrainingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Завершить тренировку
      tags:
      - trainings
  /trainings/stats:
    get:
      description: Возвращает статистику тренировок пользователя
      parameters:
      - description: User ID
        in: query
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.TrainingStatsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_EnduranNSU_trainings_internal_adapter_in_http_dto.ErrorResponse'
      summary: Получить статистику тренировок
      tags:
      - trainings
swagger: "2.0"
